<style>
body, html, div {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #181818;
}
div#divs {
    display: grid;
    grid-template-columns: repeat(100, minmax(2px, 1fr));
    width: 100vw;
    height: 100vh;
    touch-action: none;
}

div#divs div {
    background: #888;
}
</style>

<div id=divs>
    <!-- Divs appear here dynamicaly -->
</div>

<script>
const divs = document.getElementById("divs");

function motion(event) {
    event.preventDefault();
    event.stopImmediatePropagation();
    const index = getIndex(event);
    colorize(event.target);
    console.log(index);
    return false;
}

function colorize(target) {
    target.style.backgroundColor = "#fff";
}

function getIndex(event) {
    const target = event.target;
    return +target.getAttribute('i');
}

let divOffest = 0;
function addMoreDivs(count=10000) {
    for(let i = 0; i<count; i++) {
        let div = document.createElement('div');
        div.setAttribute('i', divOffest +  i);
        divs.appendChild(div);
    }
}
addMoreDivs();

divs.addEventListener('pointerdown', motion);
divs.addEventListener('pointermove', motion);

</script>
